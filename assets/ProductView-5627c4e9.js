import{N as B,T as I,P as L,S as N,a as M}from"./swiper-8542cab2.js";import{aM as g,aC as r,W as c,X as t,a3 as p,bj as d,aZ as i,bo as y,bl as j,bb as E,F as u,aK as m,a2 as U,U as D,Q as w,at as H,aF as F,aD as R}from"./@vue-a2e6aab2.js";import{a as S,m as x}from"./pinia-7d28dea6.js";import{c as P}from"./CartStore-28eaf6db.js";import{p as k}from"./ProductStore-b169158e.js";import{S as T}from"./sweetalert2-fc38d252.js";import{_ as O}from"./index-5ee32276.js";import"./ssr-window-c9202916.js";import"./vue-demi-71ba0ef2.js";import"./axios-08622986.js";import"./@ckeditor-b092e1d3.js";import"./vue-71628d3f.js";import"./aos-aa3ba816.js";import"./lodash.throttle-ab0b6905.js";import"./lodash.debounce-ca1b1d09.js";import"./vue-router-49be82a2.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-67898897.js";import"./bootstrap-d9a0ff4a.js";import"./@popperjs-9847b28c.js";import"./vee-validate-aa725db8.js";import"./@vee-validate-55db0f47.js";const{VITE_APP_URL:V,VITE_APP_PATH:C}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/flash-tea/",MODE:"production",DEV:!1,PROD:!0},q={data(){return{product:[],products:[],tempProducts:[],thumbsSwiper:null,modules:[B,I,L],itemNum:1,id:"",fillter:[],productsAll:[]}},components:{Swiper:N,SwiperSlide:M},methods:{getProductSingle(){const{id:s}=this.$route.params,l=this.$loading.show();this.$http.get(`${V}v2/api/${C}/product/${s}`).then(a=>{const{product:v}=a.data;this.product=v,this.products=this.product,this.getCategory(),l.hide()}).catch(a=>{T.fire({position:"top-end",icon:"error",title:a.response.data.message,showConfirmButton:!1,timer:1500}),l.hide()})},getCategory(){this.$http.get(`${V}v2/api/${C}/products/all`).then(s=>{this.productsAll=s.data.products}).catch(s=>{T.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:1500})})},setThumbsSwiper(s){this.thumbsSwiper=s},...S(P,["addToCart"]),...S(k,["tempProductsa11","getProductAll","addtoFollow","getid"]),render(s){this.$router.push(`/product/${s}`)}},computed:{...x(k,["followList"]),...x(P,["loadingItem"]),related(){return this.productsAll.filter(s=>this.products.id!==s.id&&s.category===this.products.category)}},watch:{$route(s,l){this.$router.go(0)}},mounted(){this.getProductSingle(),this.getProductAll()}},n=s=>(F("data-v-5111317f"),s=s(),R(),s),z={class:"container py-8"},K={class:"row g-0 g-md-3 g-lg-4 d-flex justify-content-center mb-4"},Q={class:"col-md-9"},W={class:"row g-0 g-md-3 g-lg-4 mb-4"},X=n(()=>t("h1",{class:"text-center text-primary fw-bold mb-7 noto-serif-font"},"鮮品味茶品",-1)),Z={class:"col-md-7 d-flex align-items-center mb-2 mb-lg-0"},G=["src"],J={class:"col-md-5"},Y={class:"d-flex flex-column justify-content-center h-100"},$={class:"d-flex align-items-center mb-2"},tt={class:"h3 text-nowrap me-2 mb-0 fw-bold"},et={key:0,class:"material-icons fs-2"},st={key:1,class:"material-icons fs-2 text-primary",style:{cursor:"pointer"}},ot={class:"badge rounded-pill bg-primary mb-2"},it=["innerHTML"],rt={class:"d-flex flex-column h-100"},lt={class:"align-self-end"},nt={class:"text-decoration-line-through fs-4"},ct=n(()=>t("span",{class:"me-2"},"原價",-1)),dt={class:"fs-2 mb-2 fw-bold text-danger"},at=n(()=>t("span",{class:"me-2"},"特價",-1)),pt={class:"d-flex justify-content-end"},ut=["value"],mt={key:0,class:"fas fa-spinner fa-pulse"},_t={class:"row g-0 g-md-3 g-lg-4"},ht={class:"col-12 h-50"},ft=["src"],bt={class:"row g-0 g-md-3 g-lg-4 d-flex justify-content-center mb-4"},gt={class:"col-md-9"},wt=n(()=>t("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," 商品介紹 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"}," 商品規格 ")])],-1)),vt={class:"tab-content p-2",id:"myTabContent"},yt=["innerHTML"],St={class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},xt={class:"table table-bordered"},Pt=n(()=>t("th",{class:"bg-secondary",width:"150"},"茶品名稱:",-1)),kt=n(()=>t("th",{class:"bg-secondary",width:"150"},"產地:",-1)),Tt=n(()=>t("th",{class:"bg-secondary",width:"150"},"淨重:",-1)),Vt=n(()=>t("th",{class:"bg-secondary",width:"150"},"保存期限:",-1)),Ct=n(()=>t("th",{class:"bg-secondary",width:"150"},"包裝類型:",-1)),At={class:"row g-0 g-md-3 g-lg-4 d-flex justify-content-center"},Bt=n(()=>t("h2",{class:"text-center text-primary mb-7 mb-md-2 fw-bold noto-serif-font"},"相關商品",-1)),It={class:"col-md-9"},Lt={class:"swiper-container"},Nt={class:"card d-flex h-100 shadow-sm"},Mt=["onClick"],jt={class:"card-body p-2"},Et={class:"card-title fs-4 lh-29 fw-bold"},Ut={class:"fw-normal fs-6 mb-2"},Dt={class:"d-block",style:{height:"48px","line-height":"1.2","vertical-align":"middle"}},Ht={class:"fs-5 lh-30 fw-bold mb-5"},Ft={class:"text-danger"};function Rt(s,l,a,v,e,_){const h=g("swiper-slide"),f=g("swiper"),A=g("router-link");return r(),c("section",z,[t("div",K,[t("div",Q,[t("div",W,[X,t("div",Z,[p(f,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},spaceBetween:10,thumbs:{swiper:e.thumbsSwiper},modules:e.modules,class:"mySwiper-big"},{default:d(()=>[(r(!0),c(u,null,m(e.product.imagesUrl,(o,b)=>(r(),w(h,{key:b},{default:d(()=>[t("img",{class:"iobject-fit",src:o},null,8,G)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"])]),t("div",J,[t("div",Y,[t("div",null,[t("div",$,[t("h3",tt,i(e.product.title),1),t("a",{href:"#",class:"d-flex mb-md-0 align-items-center text-decoration-none",onClick:l[0]||(l[0]=y(()=>s.addtoFollow(e.product.id),["prevent"])),style:{cursor:"pointer"}},[s.followList.id.indexOf(e.product.id)===-1?(r(),c("span",et," favorite_border ")):(r(),c("span",st," favorite "))])]),t("span",ot,i(e.product.category),1),t("p",{class:"fs-5",innerHTML:e.product.description},null,8,it),t("div",rt,[t("div",lt,[t("div",nt,[ct,t("span",null,i(s.$filters.currency(e.product.origin_price)),1)]),t("div",dt,[at,t("span",null,i(s.$filters.currency(e.product.price)),1)])]),t("div",pt,[j(t("select",{class:"form-select me-2",name:"qty","onUpdate:modelValue":l[1]||(l[1]=o=>e.itemNum=o)},[(r(),c(u,null,m(5,o=>t("option",{value:o,key:o+"0"},i(o)+i(e.product.unit),9,ut)),64))],512),[[E,e.itemNum,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary me-3 me-md-0 text-nowrap",onClick:l[2]||(l[2]=()=>s.addToCart(e.product.id,e.itemNum))},[U(" 加入購物車 "),s.loadingItem===e.product.id+"1"?(r(),c("i",mt)):D("",!0)])])])])])])]),t("div",_t,[t("div",ht,[p(f,{onSwiper:_.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:e.modules,class:"mySwiper align-items-center"},{default:d(()=>[(r(!0),c(u,null,m(e.product.imagesUrl,(o,b)=>(r(),w(h,{key:b},{default:d(()=>[t("img",{class:"object-fit",src:o},null,8,ft)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])])])])]),t("div",bt,[t("div",gt,[wt,t("div",vt,[t("div",{class:"tab-pane fade show active p-5",id:"home",role:"tabpanel","aria-labelledby":"home-tab",innerHTML:e.product.content},null,8,yt),t("div",St,[t("table",xt,[t("tbody",null,[t("tr",null,[Pt,t("td",null,i(e.product.title),1)]),t("tr",null,[kt,t("td",null,i(e.product.product_country),1)]),t("tr",null,[Tt,t("td",null,i(e.product.product_weight)+i(e.product.product_unit),1)]),t("tr",null,[Vt,t("td",null,i(e.product.product_year)+i(e.product.product_year_unit),1)]),t("tr",null,[Ct,t("td",null,i(e.product.category),1)])])])])])])]),t("div",At,[Bt,t("div",It,[t("div",Lt,[p(f,{class:"pb-8",slidesPerView:3,spaceBetween:24,modules:e.modules,pagination:{clickable:!0},navigation:"",breakpoints:{320:{slidesPerView:1,spaceBetween:24},768:{slidesPerView:3,spaceBetween:24},992:{slidesPerView:3,spaceBetween:24}}},{default:d(()=>[(r(!0),c(u,null,m(_.related,o=>(r(),w(h,{key:o.id},{default:d(()=>[t("div",Nt,[p(A,{class:"text-decoration-none",to:`/product/${o.id}`},{default:d(()=>[t("div",{class:"bg-cover",style:H([{"min-height":"200px",cursor:"pointer","background-position":"center"},{backgroundImage:`url(${o.imageUrl})`}]),onClick:y(()=>_.render(o.id),["prevent"])},null,12,Mt),t("div",jt,[t("h5",Et,i(o.title),1),t("p",Ut,[t("span",Dt,i(o.description.replace(/<[^>]*>|<\/[^>]*>/gm,"")),1)]),t("div",Ht,[t("span",Ft,i(s.$filters.currency(o.price)),1)])])]),_:2},1032,["to"])])]),_:2},1024))),128))]),_:1},8,["modules"])])])])])}const ae=O(q,[["render",Rt],["__scopeId","data-v-5111317f"]]);export{ae as default};
