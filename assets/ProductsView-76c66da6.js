import{a as d,m as g}from"./pinia-7d28dea6.js";import{p as c}from"./ProductStore-b169158e.js";import{c as h}from"./CartStore-28eaf6db.js";import{P as k}from"./PaginationView-d0e152f6.js";import{S as $}from"./sweetalert2-fc38d252.js";import{aM as u,aC as e,W as i,X as t,ar as f,bo as l,F as p,aK as b,a3 as y,aZ as n,bj as A,a2 as I,U as V,aF as E,aD as S}from"./@vue-a2e6aab2.js";import{_ as T}from"./index-5ee32276.js";import"./vue-demi-71ba0ef2.js";import"./axios-08622986.js";import"./@ckeditor-b092e1d3.js";import"./vue-71628d3f.js";import"./aos-aa3ba816.js";import"./lodash.throttle-ab0b6905.js";import"./lodash.debounce-ca1b1d09.js";import"./vue-router-49be82a2.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-67898897.js";import"./bootstrap-d9a0ff4a.js";import"./@popperjs-9847b28c.js";import"./vee-validate-aa725db8.js";import"./@vee-validate-55db0f47.js";const{VITE_APP_URL:L,VITE_APP_PATH:B}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/flash-tea/",MODE:"production",DEV:!1,PROD:!0},D={data(){return{pagination:{},product:[]}},methods:{...d(c,["getProductAll","getid"]),...d(h,["addToCart"]),getProducts(s=1){const a=this.$loading.show(),m=`${L}v2/api/${B}/products/?page=${s}&category=${this.category}`;this.$http.get(m).then(r=>{this.product=r.data.products,this.pagination=r.data.pagination,a.hide()}).catch(r=>{$.fire({position:"top-end",icon:"error",title:r.response.data.message,showConfirmButton:!1,timer:1500}),a.hide()})},...d(c,["addtoFollow","setCategory","getProductAll"])},watch:{category(){this.getProducts()}},computed:{...g(c,["followList","productsAll","category","categories"]),...g(h,["loadingItem"])},components:{Pagination:k},mounted(){this.getProducts(),this.getProductAll(),this.getid()}},F=s=>(E("data-v-4236ede5"),s=s(),S(),s),U={class:"container py-8"},x={class:"row g-0 g-md-3 g-lg-4 justify-content-center mb-0"},N=F(()=>t("h1",{class:"text-center text-primary mb-7 fw-bold noto-serif-font"},"茶品介紹",-1)),R={class:"col-lg-3 mb-4 mb-md-0"},j={class:"list-group"},M={class:"list-unstyled"},O={class:"list-unstyled"},H=["onClick"],z={class:"col-lg-9 mb-4 mb-md-0"},K={class:"row g-0 g-md-3 g-lg-4 mb-3"},W={class:"card border-0 shadow-sm rounded-3"},X={class:""},Z=["src"],q={class:"card-body fw-bold text-primary p-5"},G={class:"badge rounded-pill bg-primary mb-2"},J={class:"card-title fs-4 lh-29 fw-bold"},Q={class:"fw-normal d-block fs-6 mb-3",style:{height:"48px","vertical-align":"middle"}},Y={class:"fs-5 lh-30 fw-bold mb-5 position-relative"},tt=["onClick"],ot={key:0,class:"position-absolute end-0 material-icons fs-2",style:{cursor:"pointer"}},st={key:1,class:"position-absolute end-0 material-icons fs-2 text-primary",style:{cursor:"pointer"}},et={class:"fs-3 text-danger fw-bolder"},it={class:"d-grid"},at=["disabled","onClick"],rt={key:0,class:"fas fa-spinner fa-pulse"};function nt(s,a,m,r,_,v){const P=u("router-link"),w=u("Pagination");return e(),i(p,null,[t("div",U,[t("div",x,[N,t("div",R,[t("ul",j,[t("li",M,[t("a",{href:"#",class:f(["list-group-item list-group-item-action",{active:s.category===""}]),onClick:a[0]||(a[0]=l(o=>s.setCategory(""),["prevent"]))}," 全部商品 ",2)]),t("li",O,[(e(!0),i(p,null,b(s.categories,(o,C)=>(e(),i("a",{key:`${C}-${o}`,href:"#",class:f(["list-group-item list-group-item-action",{active:s.category===o}]),onClick:l(lt=>s.setCategory(o),["prevent"])},n(o),11,H))),128))])])]),t("div",z,[t("div",K,[(e(!0),i(p,null,b(_.product,o=>(e(),i("div",{class:"col-md-6 col-lg-4 mb-4 mb-md-3",key:o.id},[t("div",W,[t("div",X,[y(P,{class:"text-decoration-none",to:`/product/${o.id}`},{default:A(()=>[t("img",{src:o.imageUrl,height:"250",class:"card-img-top object-fit mb-0",alt:"product-img"},null,8,Z),t("div",q,[t("span",G,n(o.category),1),t("h5",J,n(o.title),1),t("span",Q,n(o.description.replace(/<[^>]*>|<\/[^>]*>/gm,"")),1),t("div",Y,[t("a",{href:"#",onClick:l(()=>s.addtoFollow(o.id),["prevent"])},[s.followList.id.indexOf(o.id)===-1?(e(),i("span",ot," favorite_border ")):(e(),i("span",st," favorite "))],8,tt),t("span",et,n(s.$filters.currency(o.price)),1)]),t("div",it,[t("button",{disabled:s.loadingItem===o.id+"1",type:"button",class:"btn btn-outline-primary fw-normal",onClick:l(()=>s.addToCart(o.id,1),["prevent"])},[I(" 加入購物車 "),s.loadingItem===o.id+"1"?(e(),i("i",rt)):V("",!0)],8,at)])])]),_:2},1032,["to"])])])]))),128))])])])]),y(w,{pages:_.pagination,onEmitPages:v.getProducts},null,8,["pages","onEmitPages"])],64)}const St=T(D,[["render",nt],["__scopeId","data-v-4236ede5"]]);export{St as default};
