import{S as h}from"./sweetalert2-fc38d252.js";import{aC as d,W as c,X as s,F as m,aK as u,aZ as t,bo as v,a1 as f}from"./@vue-a2e6aab2.js";import{_ as g}from"./index-8f9b4ce5.js";import"./@ckeditor-b092e1d3.js";import"./vue-71628d3f.js";import"./pinia-7d28dea6.js";import"./vue-demi-71ba0ef2.js";import"./aos-aa3ba816.js";import"./lodash.throttle-ab0b6905.js";import"./lodash.debounce-ca1b1d09.js";import"./vue-router-49be82a2.js";import"./axios-08622986.js";import"./vue-axios-58a7c26f.js";import"./vue-loading-overlay-67898897.js";import"./bootstrap-d9a0ff4a.js";import"./@popperjs-9847b28c.js";import"./vee-validate-aa725db8.js";import"./@vee-validate-55db0f47.js";const{VITE_APP_URL:a,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/flash-tea/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{order:{products:[],user:{}}}},methods:{getOrder(){const o=this.$route.params.order_id,i=this.$loading.show();this.$http.get(`${a}v2/api/${p}/order/${o}`).then(n=>{const{order:l}=n.data;this.order=l,i.hide()}).catch(n=>{h.fire({position:"top-end",icon:"error",title:n.response.data.message,showConfirmButton:!1,timer:1500})})},pay(){const o=this.$route.params.order_id,i=this.$loading.show();this.$http.post(`${a}v2/api/${p}/pay/${o}`).then(n=>{this.getOrder(),i.hide(),this.$router.push("/pay")})}},mounted(){this.getOrder()}},y={class:"container py-8"},w=f('<h1 class="text-center text-primary fw-bold mb-7 noto-serif-font">訂購完成</h1><div class="pt-4 pb-3"><div class="container"><div class="row justify-content-center"><div class="col-9 col-md-7 timeline"></div></div><div class="row"><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-1 active"><p>購物清單確認</p></div></div><div class="col-6 col-md-2"><div class="timeline-pointer text-center step-2 active"><p>填寫訂單</p></div></div><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-3 active"><p>購物完成</p></div></div></div></div></div>',2),x={class:"row g-0 g-md-3 g-lg-4 align-items-center justify-content-center flex-column flex-md-row"},P={class:"col-9 mb-3 d-flex flex-column justify-content-between"},E={class:"row g-0 g-md-3 g-lg-4"},V={class:"col-md-6 mb-6"},$={class:"border p-2 mb-2 mb-md-0 h-100"},A=s("h3",{class:"text-center fw-bold text-primary"},"訂單明細",-1),j=["src"],k={class:"col-3 fs-6 fs-md-4 mb-0 d-flex flex-nowrap p-2"},I={class:"col-3 fs-6 fs-md-4 text-end"},T={class:"col-2 fs-6 fs-md-4 text-end"},B={class:"d-flex justify-content-between fs-5"},O=s("span",null,"總計",-1),S={class:"fw-bold noto-serif-font text-danger noto-serif-font"},C={class:"col-md-6 border py-2"},D={class:"row g-0 g-md-3 g-lg-4"},L={class:"col-lg-6 mb-2"},R=s("h3",{class:"text-center text-primary fw-bold"},"顧客資訊",-1),U={class:"shadow-sm p-2"},F={class:""},H=s("span",null,"姓名:",-1),M={class:""},N=s("span",null,"電話:",-1),X={class:""},q=s("span",null,"Emai:",-1),K={class:""},W=s("span",null,"地址:",-1),Z={class:""},z=s("span",null,"備註:",-1),G={class:"col-lg-6"},J=s("h3",{class:"text-center text-primary fw-bold"},"訂單資訊",-1),Q={class:"shadow-sm p-2"},Y={class:""},ss=s("span",null,"訂單狀態:",-1),ts={class:""},es=s("span",null,"訂單編號:",-1),os={class:""},is=s("span",null,"訂單金額:",-1),ns={class:"mb-2"},rs=s("span",null,"訂單成立時間:",-1),ds={class:"d-flex justify-content-center"},cs={key:1};function ls(o,i,n,l,e,_){return d(),c("div",y,[w,s("div",x,[s("div",P,[s("div",E,[s("div",V,[s("div",$,[A,(d(!0),c(m,null,u(e.order.products,r=>(d(),c("div",{key:r.id,class:"d-flex align-items-center mb-4 shadow-sm p-2"},[s("img",{class:"col-4 object-fit img-fluid",src:r.product.imageUrl,alt:"",height:"50"},null,8,j),s("p",k,t(r.product.title),1),s("span",I,t(o.$filters.currency(r.product.price)),1),s("span",T,"X"+t(r.qty),1)]))),128)),s("div",B,[O,s("span",S,t(o.$filters.currency(e.order.total)),1)])])]),s("div",C,[s("div",D,[s("div",L,[R,s("div",U,[s("div",F,[H,s("span",null,t(e.order.user.name),1)]),s("div",M,[N,s("span",null,t(e.order.user.tel),1)]),s("div",X,[q,s("span",null,t(e.order.user.email),1)]),s("div",K,[W,s("span",null,t(e.order.user.address),1)]),s("div",Z,[z,s("span",null,t(e.order.message),1)])])]),s("div",G,[J,s("div",Q,[s("div",Y,[ss,s("span",null,t(e.order.is_paid?"付款完成":"尚未付款"),1)]),s("div",ts,[es,s("span",null,t(e.order.id),1)]),s("div",os,[is,s("span",null,t(o.$filters.currency(e.order.total)),1)]),s("div",ns,[rs,s("span",null,t(o.$filters.date(e.order.create_at)),1)]),s("div",ds,[e.order.is_paid!==!0?(d(),c("button",{key:0,type:"button",class:"btn btn-primary",onClick:i[0]||(i[0]=v(()=>_.pay(),["prevent"]))},"前往付款")):(d(),c("div",cs))])])])])])])])])])}const js=g(b,[["render",ls]]);export{js as default};
