import{m as u,a as b}from"./pinia-7d28dea6.js";import{c as f,s as y}from"./CartStore-28eaf6db.js";import{L as w}from"./vue-loading-overlay-67898897.js";import{aM as v,aC as o,W as i,a3 as l,X as t,F as m,bj as p,U as C,a2 as d,aK as h,aZ as c,a1 as x,bo as k,bl as I,bb as L}from"./@vue-a2e6aab2.js";import{_ as j}from"./index-8f9b4ce5.js";import"./vue-demi-71ba0ef2.js";import"./axios-08622986.js";import"./sweetalert2-fc38d252.js";import"./@ckeditor-b092e1d3.js";import"./vue-71628d3f.js";import"./aos-aa3ba816.js";import"./lodash.throttle-ab0b6905.js";import"./lodash.debounce-ca1b1d09.js";import"./vue-router-49be82a2.js";import"./vue-axios-58a7c26f.js";import"./bootstrap-d9a0ff4a.js";import"./@popperjs-9847b28c.js";import"./vee-validate-aa725db8.js";import"./@vee-validate-55db0f47.js";const V={data(){return{products:[],productId:"",cart:{},form:{email:"",name:"",phone:"",address:"",msg:""},total:0}},components:{Loading:w},computed:{...u(f,["carts","final_total","isLoading","loadingItem"]),...u(y,["isLoading"])},methods:{...b(f,["getCarts","deleteItem","updateCartItem","clearCart"]),changeLoading(e){this.loadingItem=e},validateTelephone(e){return/^(09)[0-9]{8}$/.test(e)?!0:"需要正確的手機號碼"}},mounted(){this.getCarts()}},N={class:"container py-8"},$=t("h1",{class:"text-center text-primary mb-7 fw-bold noto-serif-font"},"購物車列表",-1),S={class:"row g-0 g-md-3 g-lg-4 justify-content-center flex-column flex-md-row mb-4"},U=x('<div class="pt-4 pb-3"><div class="container"><div class="row justify-content-center"><div class="col-9 col-md-7 timeline"></div></div><div class="row"><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-1 active"><p>購物清單確認</p></div></div><div class="col-6 col-md-2"><div class="timeline-pointer text-center step-2"><p>填寫訂單</p></div></div><div class="col-3 col-md-5"><div class="timeline-pointer text-center step-3"><p>購物完成</p></div></div></div></div></div>',1),A={class:"col-md-6"},B=t("span",{class:"material-icons"},"keyboard_return",-1),K={class:"row g-0 g-md-3 g-lg-4 bg-white p-2"},M={class:"col-12 mb-3"},q={class:"text-end"},D=["disabled"],F={key:0,class:"fas fa-spinner fa-pulse"},T={class:"col-12"},E={class:"col-4 d-flex align-items-center"},W=["src"],X={class:"col-8 d-flex flex-column justify-content-center"},Z={class:"row g-4 mb-4"},z={class:"col-12 mb-0 position-relative fs-5 fw-bold"},G={class:"col position-absolute top-0 end-0"},H=["onClick","disabled"],J=t("span",{class:"material-icons fs-2"},"delete",-1),O=[J],P={class:"row g-4 d-flex justify-content-between"},Q={class:"col-4 d-block fs-3 text-danger fw-bold"},R=["onUpdate:modelValue","onChange","disabled"],Y=["value","Key"],tt={class:"col-12 mb-6"},et={class:"d-flex justify-content-end align-items-center shadow-sm"},st=t("span",{class:"fs-4 me-6"},"總金額",-1),ot={class:"fs-5 text-end me-2 text-danger fw-bold"},it={class:"col-12 d-flex justify-content-end"},at={key:1,class:"col-md-6 d-flex justify-content-center align-items-center flex-column"},nt=t("p",{class:"text-center h4 mb-3"},"目前購物車為空的狀態喔!，再去選購吧~",-1);function dt(e,a,lt,ct,rt,mt){var _;const g=v("Loading"),r=v("router-link");return o(),i("div",N,[l(g,{active:e.isLoading,"onUpdate:active":a[0]||(a[0]=s=>e.isLoading=s),loader:"bars"},null,8,["active"]),$,t("div",S,[(_=e.carts.carts)!=null&&_.length?(o(),i(m,{key:0},[U,t("div",A,[l(r,{to:"/products",class:"d-inline-flex align-items-center text-decoration-none"},{default:p(()=>[B,d(" 回商品列表 ")]),_:1}),t("div",K,[t("div",M,[t("div",q,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:a[1]||(a[1]=(...s)=>e.clearCart&&e.clearCart(...s)),disabled:e.loadingItem==="deleteAll"},[e.loadingItem==="deleteAll"?(o(),i("i",F)):C("",!0),d(" 清空購物車 ")],8,D)])]),t("div",T,[(o(!0),i(m,null,h(e.carts.carts,s=>(o(),i("div",{class:"row g-4 d-flex shadow-sm mb-3 p-2",key:s.id},[t("div",E,[t("img",{class:"object-fit w-100 img-fluid",src:s.product.imageUrl,alt:""},null,8,W)]),t("div",X,[t("div",Z,[t("div",z,[d(c(s.product.title)+" ",1),t("div",G,[t("a",{href:"#",onClick:k(()=>e.deleteItem(s),["prevent"]),disabled:s.id===e.loadingItem},O,8,H)])])]),t("div",P,[t("span",Q,c(e.$filters.currency(s.product.price)),1),I(t("select",{name:"product-number",id:"",class:"form-select w-50","onUpdate:modelValue":n=>s.qty=n,onChange:()=>e.updateCartItem(s),disabled:s.id===e.loadingItem},[(o(),i(m,null,h(10,n=>t("option",{value:n,Key:n+"45678"},c(n),9,Y)),64))],40,R),[[L,s.qty]])])])]))),128))]),t("div",tt,[t("div",et,[st,t("span",ot,c(e.$filters.currency(e.carts.total)),1)])]),t("div",it,[l(r,{to:"/order",class:"btn btn-primary"},{default:p(()=>[d("確認訂單")]),_:1})])])])],64)):(o(),i("div",at,[nt,l(r,{class:"w-25 btn btn-primary",to:"/products"},{default:p(()=>[d("購物去")]),_:1})]))])])}const St=j(V,[["render",dt]]);export{St as default};
